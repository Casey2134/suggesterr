{% extends "base.html" %}
{% load static %}

{% block title %}Movies - Suggesterr{% endblock %}

{% block extra_css %}
<!-- Main CSS is already loaded in base.html -->
{% endblock %}

{% block header_search %}
<div class="search-box">
    <i class="search-icon fas fa-search"></i>
    <input type="text" class="search-input" placeholder="Search movies..." id="searchInput">
</div>
{% endblock %}


{% block content %}
    <!-- Popular Movies Section -->
    <section class="section" id="popular-section">
        <div class="section-header">
            <h2 class="section-title">Popular Movies</h2>
            <a href="{% url 'movies:popular' %}" class="view-all">View All</a>
        </div>
        <div class="movie-row" id="moviesPopular">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Top Rated Movies Section -->
    <section class="section" id="top-rated-section">
        <div class="section-header">
            <h2 class="section-title">Top Rated Movies</h2>
            <a href="{% url 'movies:top_rated' %}" class="view-all">View All</a>
        </div>
        <div class="movie-row" id="moviesTopRated">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Now Playing Movies Section -->
    <section class="section" id="now-playing-section">
        <div class="section-header">
            <h2 class="section-title">Now Playing</h2>
        </div>
        <div class="movie-row" id="moviesNowPlaying">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Upcoming Movies Section -->
    <section class="section" id="upcoming-section">
        <div class="section-header">
            <h2 class="section-title">Upcoming Movies</h2>
        </div>
        <div class="movie-row" id="moviesUpcoming">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

    <!-- Search Results Section (hidden by default) -->
    <section class="section" id="search-results-section" style="display: none;">
        <div class="section-header">
            <h2 class="section-title">Search Results</h2>
        </div>
        <div class="movie-row" id="searchResults">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </section>

<!-- Movie-specific modals -->
{% include 'movies/partials/movie_details_modal.html' %}
{% include 'movies/partials/movie_request_modal.html' %}
{% endblock %}

{% block extra_js %}
<!-- Page-specific JavaScript would go here if needed -->
{% endblock %}